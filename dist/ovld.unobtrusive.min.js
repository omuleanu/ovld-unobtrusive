!function(n){let t={autorun:1};const{find:e,attr:o}=n.core,r="ovldunobs";function u(n,t,e){if(void 0===e)return n.dataset[t];null===e?delete n.dataset[t]:n.dataset[t]=e}function a({selector:t,rules:o,related:a}={selector:"form"}){let l=[];return e(document,t).forEach((function(s){if(u(s,r))return;u(s,r,1);const f=n.bind({subev:"submit",cont:s,getRules:()=>c(i(s),o),msgCont:function({input:n,name:o}){const r=e(n.closest(t),`[data-valmsg-for="${o}"]`);if(r.length)return r[0]},related:a});l.push((()=>{f.destroy(),u(s,r,null)}))})),{destroy:()=>{l.forEach((n=>n()))}}}function c(n,t){if(t)for(const e in t)null!=n[e]?n[e]=[...n[e],...t[e]]:n[e]=t[e];return n}function i(t){const r={};function u(n,t){r[n]||(r[n]=[]),r[n].push(t)}var a="data-val-",c=`${a}maxlength`,i=`${a}minlength`,l=c+"-max",s=i+"-min";return e(t,`[${l}]`).forEach((function(t){var e=o(t,l);u(o(t,"name"),{chk:n.rules.maxlen(e),msg:o(t,c)})})),e(t,`[${s}]`).forEach((function(t){var e=o(t,s);u(o(t,"name"),{chk:n.rules.minlen(e),msg:o(t,i)})})),e(t,`[${a}length]`).forEach((function(t){var e=o(t,`${a}length-min`),r=o(t,`${a}length-max`);u(o(t,"name"),{chk:n.rules.len({min:e,max:r}),msg:o(t,`${a}length`)})})),e(t,`[${a}required]`).forEach((function(t){u(o(t,"name"),{chk:n.rules.req,msg:o(t,`${a}required`)})})),r}document.addEventListener("DOMContentLoaded",(function(){t.autorun&&a()})),n.unobtrusive={bind:a,setDefaults:function(n){t=Object.assign({},t,n)},validate:function({cont:t,rules:e}){return n.validate({cont:t,rules:c(i(t),e)})}}}(window.ovld);
