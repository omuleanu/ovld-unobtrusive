window.ovld=function(n){const t="[name]:not(:checkbox)",e="change input",r={req:function({v:n}){return!n||!n.trim()},minlen:function(n){return function({v:t}){return t&&t.length<n}},maxlen:function(n){return function({v:t}){return t&&t.length>n}},len:function({min:n,max:t}){return function(e){return r.minlen(n)(e)||r.maxlen(t)(e)}}};function o({opt:e,cont:r,event:o}){let u={};return n(r).find(t).each((function(){const t=n(this),r=i(e,t,o);r&&Object.keys(r).length>0&&(u={...u,...r})})),u}function i(t,e,r){if(t.ignore&&t.ignore(e)||ovld.ignore(e))return;const o=e.attr("name");if(!o)return;const i={};t.tched&&(t.tched[o]=e),i[o]={input:e,rules:u({opt:t,name:o,event:r,input:e})};const c=t.related;return t.tched&&c&&n.each(c[o],(function(n,e){const o=t.tched[e];o&&(i[e]={input:o,rules:u({opt:t,name:e,event:r,input:o})})})),i}function u({opt:t,name:e,event:r,input:o}){let i=[],u=(t.getRules?t.getRules():t.rules)[e];return u?(Array.isArray(u)||(u=[u]),n.each(u,(function(n,t){var u=t.chk({v:o.val(),event:r,input:o,name:e});if(u)return i.push(u.msg?u:t),!1})),i):i}function c({opt:n,res:t}){Object.entries(t).forEach((([t,{input:e,rules:r}])=>{const o=n.msgCont({input:e,name:t});o.empty(),r&&r.length&&(o.is("[data-valmsg-replace]")?(o.addClass("field-validation-error").removeClass("field-validation-valid"),o.html(r[0].msg)):o.append('<div class="field-validation-error">'+r[0].msg+"</div>"))}))}return{ignore:function(n){},rules:r,validate:function(n){return o({opt:n,cont:n.cont})},bind:function(r){r.tched={};const u=r.cont||n(r.selector);function s(t){const e=n(this),o=e.attr("type");if("checkbox"==o||"radio"==o)return;const u=i(r,e,t);u&&c({opt:r,res:u})}function a(n,t){const e=o({opt:r,cont:n.target,event:n});c({opt:r,res:e}),function(n){return!Object.values(n).some((({rules:n})=>n.length))}(e)||(n.preventDefault(),t&&(t.cancel=1,t.target=this))}return u.on(e,t,s),r.subev&&u.on(r.subev,a),{destroy:function(){u.off(e,s),u.off(r.subev,a)}}}}}(jQuery);
